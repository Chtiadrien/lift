service: app
configValidationMode: error

provider:
  name: aws

functions:
  foo:
    handler: worker.handler
    environment:
      VAR1: ${construct:bar.queueUrl}

constructs:
  bar:
    type: queue
    worker:
      handler: worker.handler
      environment:
        VAR2: ${sls:stage}

#resources:
#  Resources:
#    UserDefinedResource:
#      Type: AWS::S3::Bucket
#      Properties:
#        BucketName: ${construct:bar.queueUrl}
